(function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define(["underscore","backbone","text!template/interest.html"],function(e,n,r){var i;return i=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,n),i.prototype.el="#locations",i.prototype.template=e.template(r),i.prototype.initialize=function(){return e.bindAll(this),this.bindEvents(),this.model.on("reset",this.render),this.model.fetch()},i.prototype.bindEvents=function(){var e,t;return this.$el.undelegate(".has_status"),e="createTouch"in document?"tap":"click",t={},t[""+e+" .has_status"]="showUserStatus",this.delegateEvents(t)},i.prototype.render=function(){return this.length=this.model.length,this.$el.html(this.template({items:this.model.toJSON()})),this.$("#length").text(this.length),this.showInterestMap()},i.prototype.showUserStatus=function(e){var t,n;return t=$(e.target),n=t.hasClass("has_status")?t.find(".user_status"):t.parents(".has_status").find(".user_status"),alert($.trim(n.html()))},i.prototype.showInterestMap=function(){var e,t,n,r,i;e=this.model.toJSON(),n={};for(r in e)t=e[r].interest,n[t]?n[t]=n[t]+1:n[t]=1;i=[];for(t in n)t?i.push($("#interest_map").append("<p> "+t+": "+n[t]+" are interested</p>")):i.push(void 0);return i},i}(n.View),i})}).call(this)